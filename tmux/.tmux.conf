# Última Atualização: 12 de Agosto de 2025

# Define o prefixo para C-x (Ctrl + x) por ser menos propenso a conflitos
set -g prefix C-x
unbind C-b # Desvincula o prefixo padrão C-b

# Define o terminal padrão para suportar 256 cores e cores verdadeiras (RGB)
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

# Define o shell padrão como zsh
set -g default-shell "/usr/bin/zsh"

# Habilita o uso do mouse (clicar em janelas, painéis, rolar)
set-option -g mouse on

# Posiciona a barra de status no topo
set-option -g status-position top

# Aumenta o limite de linhas do histórico de rolagem
set -g history-limit 10000

# Começa a numeração de janelas e painéis a partir de 1, em vez de 0
set -g base-index 1
setw -g pane-base-index 1

# Renumera as janelas automaticamente ao fechar uma delas
set -g renumber-windows on

# Impede que a sessão seja fechada ao "desanexar" (detach)
set -g detach-on-destroy off

# Habilita o modo de cópia com atalhos do Vi
set-window-option -g mode-keys vi


# --- ATALHOS DE TECLADO (KEYBINDINGS) --- #
# Recarrega a configuração com Prefixo + r e mostra uma mensagem de confirmação
bind r source-file ~/.tmux.conf \; display "Configuração recarregada!"

# Divide painéis usando o caminho atual
bind '"' split-window -v -c "#{pane_current_path}" # Divide horizontalmente (vertical split)
bind % split-window -h -c "#{pane_current_path}" # Divide verticalmente (horizontal split)

# Navega entre painéis com Prefixo + teclas do Vim
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# Navega entre janelas (abas) com Shift + Seta, SEM precisar do prefixo
bind -n S-Left  previous-window
bind -n S-Right next-window


# --- PLUGINS (TPM - Tmux Plugin Manager) --- #
set -g @plugin 'tmux-plugins/tpm'                   # O próprio gerenciador de plugins
set -g @plugin 'christoomey/vim-tmux-navigator'     # Navegação unificada com Neovim
set -g @plugin 'tmux-plugins/tmux-resurrect'       # Salva e restaura sessões após reiniciar
set -g @plugin 'tmux-plugins/tmux-continuum'       # Salva sessões automaticamente
set -g @plugin 'catppuccin/tmux'                   # Tema visual moderno e agradável

# --- catppuccin Tema --- #
set -g @catppuccin_flavour 'macchiato' # Pode ser latte, frappe, macchiato, mocha
set -g @catppuccin_window_left_separator ""
set -g @catppuccin_window_right_separator ""

# Esta linha deve ser a ÚLTIMA do arquivo para garantir que tudo seja carregado corretamente.
run '~/.tmux/plugins/tpm/tpm'
